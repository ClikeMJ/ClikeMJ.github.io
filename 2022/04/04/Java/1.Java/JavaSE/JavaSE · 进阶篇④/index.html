<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>JavaSE · 进阶篇④ | MJ</title><meta name="keywords" content="Java,JavaSE"><meta name="author" content="MJ"><meta name="copyright" content="MJ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="28 异常28.1 异常的概述 异常（Exception）： 就是程序运行过程中出现了不正常现象导致程序的中断 作用是增强程序的健壮性   异常信息：程序异常时，在执行控制台上出现的内容，是JVM进行打印的  28.2 异常类 异常类：  异常是以类的形式存在的，每一个异常类都可以创建异常对象 实际上JVM在执行到异常程序时，会new异常对象new ArithmeticException(“&amp;#x">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaSE · 进阶篇④">
<meta property="og:url" content="https://clikemj.github.io/2022/04/04/JAVA/1.Java/JavaSE/JavaSE%20%C2%B7%20%E8%BF%9B%E9%98%B6%E7%AF%87%E2%91%A3/index.html">
<meta property="og:site_name" content="MJ">
<meta property="og:description" content="28 异常28.1 异常的概述 异常（Exception）： 就是程序运行过程中出现了不正常现象导致程序的中断 作用是增强程序的健壮性   异常信息：程序异常时，在执行控制台上出现的内容，是JVM进行打印的  28.2 异常类 异常类：  异常是以类的形式存在的，每一个异常类都可以创建异常对象 实际上JVM在执行到异常程序时，会new异常对象new ArithmeticException(“&amp;#x">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://clikemj.github.io/img/picture_JavaSE.jpg">
<meta property="article:published_time" content="2022-04-04T12:36:24.996Z">
<meta property="article:modified_time" content="2022-04-17T06:56:20.250Z">
<meta property="article:author" content="MJ">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="JavaSE">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://clikemj.github.io/img/picture_JavaSE.jpg"><link rel="shortcut icon" href="/./img/butterfly_picture_01.jpg"><link rel="canonical" href="https://clikemj.github.io/2022/04/04/JAVA/1.Java/JavaSE/JavaSE%20%C2%B7%20%E8%BF%9B%E9%98%B6%E7%AF%87%E2%91%A3/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: MJ","link":"Link: ","source":"Source: MJ","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaSE · 进阶篇④',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-04-17 14:56:20'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/butterfly_picture_01.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">11</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">9</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/./img/picture_JavaSE.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">MJ</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaSE · 进阶篇④</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-04-04T12:36:24.996Z" title="Created 2022-04-04 20:36:24">2022-04-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-04-17T06:56:20.250Z" title="Updated 2022-04-17 14:56:20">2022-04-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/">Java</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">9.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>39min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaSE · 进阶篇④"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="28-异常"><a href="#28-异常" class="headerlink" title="28 异常"></a>28 异常</h1><h2 id="28-1-异常的概述"><a href="#28-1-异常的概述" class="headerlink" title="28.1 异常的概述"></a>28.1 异常的概述</h2><ul>
<li>异常（Exception）：<ul>
<li>就是程序运行过程中出现了不正常现象导致程序的中断</li>
<li>作用是增强程序的健壮性</li>
</ul>
</li>
<li>异常信息：程序异常时，在执行控制台上出现的内容，是JVM进行打印的</li>
</ul>
<h2 id="28-2-异常类"><a href="#28-2-异常类" class="headerlink" title="28.2 异常类"></a>28.2 异常类</h2><ul>
<li><p>异常类：</p>
<ul>
<li>异常是以类的形式存在的，每一个异常类都可以创建异常对象</li>
<li>实际上JVM在执行到异常程序时，会new异常对象new ArithmeticException(“&#x2F; by zero”);</li>
<li>并且JVM将new的异常对象抛出，打印输出信息到控制台了</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">NumberFormatException</span> <span class="variable">nfe</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NumberFormatException</span>(<span class="string">&quot;数字格式化异常！&quot;</span>);</span><br><span class="line">        System.out.println(nfe); <span class="comment">// java.lang.NumberFormatException: 数字格式化异常！</span></span><br><span class="line"></span><br><span class="line">        <span class="type">NullPointerException</span> <span class="variable">npe</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>(<span class="string">&quot;空指针异常发生了！&quot;</span>);</span><br><span class="line">        System.out.println(npe); <span class="comment">// java.lang.NullPointerException: 空指针异常发生了！</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>异常的继承结构（UML）：</p>
<ul>
<li>UML：统一建模语言，可以描述类与类之间的关系、程序的执行流程、对象的状态等</li>
<li>（…UML图）</li>
<li>Throwable类：子类有Error和Exception，不管是错误还是异常，都是可抛出的</li>
<li>Error类：所有错误只要发生，Java就只能终止程序，退出JVM，错误是不能处理的</li>
<li>Exception类：所有的异常是可以处理的，子类有编译时异常（直接子类）和运行时异常</li>
</ul>
</li>
<li><p>Exception类：</p>
<ul>
<li>编译时异常和运行时异常，都是发生在运行阶段，因为只有运行阶段才可以new对象</li>
<li>编译时异常（CheckedException）：又称为受检异常、受控异常，不是在编译时发生的，而是表示必须在编写程序时对此种异常进行处理，如果不处理编译会报错</li>
<li>运行时异常（UnCheckedException）：又称为未受检异常、非受控异常，在编写程序阶段，可以处理也可以不处理</li>
<li>编译时异常和运行时异常的区别：<ul>
<li>编译时异常发生概论比较高，运行时异常比较低</li>
<li>对于发生概论高的异常，需要在运行前进行预处理</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="28-3-异常的处理"><a href="#28-3-异常的处理" class="headerlink" title="28.3 异常的处理"></a>28.3 异常的处理</h2><ul>
<li><p>异常处理的方式：</p>
<ul>
<li>异常上抛：在方法声明的位置上，使用throws关键字，抛给上一级调用者来处理</li>
<li>异常的捕捉：使用try…catch语句进行异常的处理</li>
</ul>
</li>
<li><p>异常处理的注意事项：</p>
<ul>
<li>Java异常发生后一直上抛，最终抛到了main方法后，继续上抛</li>
<li>抛给了调用者JVM，JVM只有一个处理结果，就是终止Java程序的执行</li>
</ul>
</li>
<li><p>运行时异常（不需要处理）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        程序执行到此处发生了异常，底层new了一个ArithmeticException异常对象</span></span><br><span class="line"><span class="comment">        由于是main方法调用了100 / 0，所以这个异常抛给了main方法</span></span><br><span class="line"><span class="comment">        最后main方法没有处理，将这个异常自动抛给了JVM，JVM最终终止程序的执行。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        ArithmeticException 继承 RuntimeException，属于运行时异常</span></span><br><span class="line"><span class="comment">        在编写程序阶段不需要对这种异常进行预先的处理</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        System.out.println(<span class="number">100</span> / <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World!&quot;</span>);  <span class="comment">// 没有输出，没有执行</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>编译时异常（两种处理方法）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest03</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            因为doSome()方法声明位置上有：throws ClassNotFoundException</span></span><br><span class="line"><span class="comment">            在调用doSome()方法的时候必须对这种异常进行预先的处理</span></span><br><span class="line"><span class="comment">            如果不处理，编译器就报错 Unhandled exception: java.lang.ClassNotFoundException</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        doSome();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * doSome方法在方法声明的位置上使用了throws ClassNotFoundException</span></span><br><span class="line"><span class="comment">     * 表示doSome()方法在执行过程中，有可能会出现ClassNotFoundException类没找到异常</span></span><br><span class="line"><span class="comment">     * 此异常直接父类是：Exception，所以ClassNotFoundException属于编译时异常</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ClassNotFoundException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">doSome</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;doSome!!!!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest04</span> &#123;</span><br><span class="line">    <span class="comment">// 第一种处理方式：throws</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        doSome();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第二种处理方式：try..catch</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;undefined</span><br><span class="line">            <span class="title function_">doSome</span><span class="params">()</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">doSome</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;doSome!&quot;</span>); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="28-3-throws和try…catch"><a href="#28-3-throws和try…catch" class="headerlink" title="28.3 throws和try…catch"></a>28.3 throws和try…catch</h2><ul>
<li><p>throws处理异常：</p>
<ul>
<li>m2抛FileNotFoundException的父对象IOException是可以的，抛Exception也可以，它包括所有异常</li>
<li>throws后面也可以写多个异常，可以使用逗号隔开。eg：throws ClassCastException, FileNotFoundException{undefined</li>
<li>一般不建议在main方法上使用throws，因为这个异常若真正的发生了，一定会抛给JVM终止</li>
<li>一般main方法中的异常建议使用try..catch进行捕捉，main就不要继续上抛</li>
</ul>
</li>
<li><p>try..catch处理异常：</p>
<ul>
<li>try..catch捕捉异常之后，后续代码可以执行，但若try语句块中出现异常，后面的代码不会执行</li>
<li>catch：是捕捉异常之后走的分支，小括号中的类型可以是具体的异常类型，也可以是该异常类型的父类型</li>
<li>catch可以写多个用来一个个处理，有利于程序的调试，异常类型遵守从小到大</li>
<li>FileNotFoundException e：其中e引用保存的内存地址是那个new出来异常对象的内存地址</li>
<li>JDK8的新特性：catch (FileNotFoundException | ArithmeticException | NullPointerException e)</li>
</ul>
</li>
<li><p>在开发中，处理编译时异常：</p>
<ul>
<li>如果希望调用者来处理，选择throws上报</li>
<li>其它情况使用捕捉的方式</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest05</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            m1();</span><br><span class="line">            System.out.println(<span class="string">&quot;hello world!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e)&#123;  </span><br><span class="line">            <span class="comment">// 打印异常追逐信息（建议使用，可以快速调试程序）</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                String msg = e.getMessage();</span></span><br><span class="line"><span class="comment">                System.out.println(msg);  // C:\jetns-agent.jar (系统找不到指定的文件。)</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;try..catch把异常抓住之后，此处代码会继续执行&quot;</span>);  </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">m1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException &#123;</span><br><span class="line">        m2();</span><br><span class="line">        System.out.println(<span class="string">&quot;m1异常，此处无法执行&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">m2</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException &#123; </span><br><span class="line">        m3();</span><br><span class="line">        System.out.println(<span class="string">&quot;m2异常，此处无法执行&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">m3</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException &#123;</span><br><span class="line">        <span class="comment">// 这里构造方法声明上有编译时异常 throws FileNotFoundException</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\course\\01-课\\学习方法.txt&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="28-4-异常的常用方法"><a href="#28-4-异常的常用方法" class="headerlink" title="28.4 异常的常用方法"></a>28.4 异常的常用方法</h2><table>
<thead>
<tr>
<th>方法名</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>String getMessage()</td>
<td>返回异常的描述消息</td>
</tr>
<tr>
<td>void printStackTrace()</td>
<td>打印异常追踪的堆栈信息（采用异步线程）</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest08</span> &#123;undefined</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;undefined</span><br><span class="line">        <span class="type">NullPointerException</span> <span class="variable">e</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>(<span class="string">&quot;空指针异常&quot;</span>);</span><br><span class="line">    </span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> e.getMessage();</span><br><span class="line">        System.out.println(msg);  <span class="comment">// 空指针异常</span></span><br><span class="line"></span><br><span class="line">        e.printStackTrace(); </span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        java.lang.NullPointerException: 空指针异常fdsafdsafdsafds</span></span><br><span class="line"><span class="comment">            at com.bjpowernode.javase.exception.ExceptionTest08.main(ExceptionTest08.java:15)</span></span><br><span class="line"><span class="comment">            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span></span><br><span class="line"><span class="comment">            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</span></span><br><span class="line"><span class="comment">            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span></span><br><span class="line"><span class="comment">            at java.base/java.lang.reflect.Method.invoke(Method.java:564)</span></span><br><span class="line"><span class="comment">            at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)</span></span><br><span class="line"><span class="comment">        // （异常追踪信息的查看：SUN公司不用查看，自己编写代码从上往下看）</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World!&quot;</span>);  <span class="comment">// Hello World! （printStackTrace()采用异步线程方式，Hello World!可能在其之前输出）</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="28-5-finally子句"><a href="#28-5-finally子句" class="headerlink" title="28.5 finally子句"></a>28.5 finally子句</h2><ul>
<li><p>finally：子句中的代码是最后执行的，并且是一定会执行的，即使try语句块中的代码出现了异常</p>
<ul>
<li>finally子句必须和try一起出现，不能单独编写</li>
<li>通常在finally语句块中完成资源的释放&#x2F;关，因为finally中的代码比较有保障</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">ackage com.javase.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest10</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="literal">null</span>;  <span class="comment">// 声明位置放到try外面。这样在finally中才能用</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fis = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\course\\JavaSE进阶.pdf&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            s.toString();</span><br><span class="line">            System.out.println(<span class="string">&quot;hello world!&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//fis.close();  // 流使用完需要关闭，因为流是占用资源的，放在这里有可能流关不了</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;undefined</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span>(IOException e)&#123;undefined</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span>(NullPointerException e) &#123;undefined</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;  <span class="comment">// 流的关闭放在这里比较保险，即使出现异常，finally中也会执行</span></span><br><span class="line">            System.out.println(<span class="string">&quot;hello！&quot;</span>); </span><br><span class="line">            <span class="keyword">if</span> (fis != <span class="literal">null</span>) &#123;  <span class="comment">// 避免空指针异常</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fis.close();  <span class="comment">// close()方法有异常，采用捕捉的方式</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;  </span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello kitty!&quot;</span>);  <span class="comment">// hello kitty!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>try和finally：</p>
<ul>
<li>只有try和finally，没有catch也是可以的</li>
<li>先执行try，再执行finally，最后执行return</li>
<li>return语句一旦，执行程序一定结束</li>
<li>注意事项：renturn改为退出JVM，finally语句中的代码就不执行了</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest11</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;try...&quot;</span>); </span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">            <span class="comment">// System.exit(0);  // finally语句不执行</span></span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;finally...&quot;</span>);  <span class="comment">// finally中的语句一定会执行</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World!&quot;</span>);  <span class="comment">// 代码是无法执行到</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Java中的规则（面试题）：<ul>
<li>方法体中的代码必须遵循自上而下顺序依次逐行执行</li>
<li>return语句必须是最后执行的，一旦执行整个方法必须结束</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest13</span> &#123;undefined</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;undefined</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> m();</span><br><span class="line">        System.out.println(result);  <span class="comment">//100</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">m</span><span class="params">()</span>&#123;undefined</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 这行代码出现在int i = 100;的下面，所以最终结果必须是返回100</span></span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    反编译之后的效果：class——&gt;Java</span></span><br><span class="line"><span class="comment">    public static int m()&#123;</span></span><br><span class="line"><span class="comment">        int i = 100;</span></span><br><span class="line"><span class="comment">        int j = i;</span></span><br><span class="line"><span class="comment">        i++;</span></span><br><span class="line"><span class="comment">        return j;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>final finally finalized 区别：</p>
<ul>
<li>final 关键字：修饰的类无法继承、修饰的方法无法覆盖、修饰的变量不能重新赋值</li>
<li>finally 关键字：和try一起联合使用，finally语句块中的代码是必须执行的</li>
<li>finalize 标识符：是一个Object类中的方法名，这个方法是由垃圾回收器GC负责调用的</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest14</span> &#123;undefined</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// final是一个关键字，表示最终的不变的</span></span><br><span class="line">        <span class="keyword">final</span> <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// finally也是一个关键字，和try联合使用，使用在异常处理机制中</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;finally....&quot;</span>); </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// finalize()是Object类中的一个方法，是JVM的GC垃圾回收器负责调用</span></span><br><span class="line">        Object obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="28-6-自定义异常"><a href="#28-6-自定义异常" class="headerlink" title="28.6 自定义异常"></a>28.6 自定义异常</h2><ul>
<li><p>自定义异常：</p>
<ul>
<li>第一步：编写一个类继承Exception或者RuntimeException</li>
<li>第二步：提供两个构造方法，一个无参数的，一个带有String参数的</li>
<li>throw：手动抛出异常</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyException</span> <span class="keyword">extends</span> <span class="title class_">Exception</span>&#123;  <span class="comment">// 编译时异常</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyException</span><span class="params">()</span>&#123;  <span class="comment">// 无参构造</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyException</span><span class="params">(String s)</span>&#123;  <span class="comment">// 有参构造</span></span><br><span class="line">        <span class="built_in">super</span>(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    public class MyException extends RuntimeException&#123;  // 运行时异常</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest15</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建异常对象（只new了异常对象，并没有手动抛出）</span></span><br><span class="line">        <span class="type">MyException</span> <span class="variable">e</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyException</span>(<span class="string">&quot;用户名不能为空！&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 打印异常堆栈信息</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 获取异常简单描述信息</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> e.getMessage();</span><br><span class="line">        System.out.println(msg);  <span class="comment">// 用户名不能为空！</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="28-7-异常与开发"><a href="#28-7-异常与开发" class="headerlink" title="28.7 异常与开发"></a>28.7 异常与开发</h2><ul>
<li><p>编写程序：使用一维数组，模拟栈数据结构，实现栈满栈空时抛出异常</p>
</li>
<li><p>方法覆盖：重写后的方法不能比重写之前抛出的异常多，但是可以更少</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyStack</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Object[] elements;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> index;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 无参数构造方法。默认初始化栈容量10.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.elements = <span class="keyword">new</span> <span class="title class_">Object</span>[<span class="number">10</span>];</span><br><span class="line">        <span class="built_in">this</span>.index = -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 压栈的方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> obj 被压入的元素</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> MyStackOperationException &#123;</span><br><span class="line">        <span class="keyword">if</span>(index &gt;= elements.length - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">MyStackOperationException</span> <span class="variable">e</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyStackOperationException</span>(<span class="string">&quot;压栈失败，栈已满！&quot;</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">throw</span> e; <span class="comment">// throw new MyStackOperationException(&quot;压栈失败，栈已满！&quot;);</span></span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                throw e 手动将异常抛出去</span></span><br><span class="line"><span class="comment">                这里捕捉没有意义，自己new一个异常，自己捕捉没有意义</span></span><br><span class="line"><span class="comment">                栈已满这个信息需要传递出去</span></span><br><span class="line"><span class="comment">            */</span>         </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        index++;  <span class="comment">// 程序能够执行到这里，说明栈没满</span></span><br><span class="line">        elements[index] = obj;</span><br><span class="line">        System.out.println(<span class="string">&quot;压栈&quot;</span> + obj + <span class="string">&quot;元素成功，栈帧指向&quot;</span> + index);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 弹栈的方法，从数组中往外取元素。每取出一个元素，栈帧向下移动一位。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pop</span><span class="params">()</span> <span class="keyword">throws</span> MyStackOperationException &#123;undefined</span><br><span class="line">        <span class="title function_">if</span><span class="params">(index &lt; <span class="number">0</span>)</span>&#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                改良前：</span></span><br><span class="line"><span class="comment">                System.out.println(&quot;弹栈失败，栈已空！&quot;);</span></span><br><span class="line"><span class="comment">                return;</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">MyStackOperationException</span>(<span class="string">&quot;弹栈失败，栈已空！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.print(<span class="string">&quot;弹栈&quot;</span> + elements[index] + <span class="string">&quot;元素成功，&quot;</span>);</span><br><span class="line">        index--;</span><br><span class="line">        System.out.println(<span class="string">&quot;栈帧指向&quot;</span> + index);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        封装：</span></span><br><span class="line"><span class="comment">        第一步：属性私有化</span></span><br><span class="line"><span class="comment">        第二步：对外提供set和get方法，也许用不上但是必须写上</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> Object[] getElements() &#123;undefined</span><br><span class="line">        <span class="keyword">return</span> elements;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setElements</span><span class="params">(Object[] elements)</span> &#123;undefined</span><br><span class="line">        <span class="built_in">this</span>.elements = elements;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getIndex</span><span class="params">()</span> &#123;undefined</span><br><span class="line">        <span class="keyword">return</span> index;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setIndex</span><span class="params">(<span class="type">int</span> index)</span> &#123;undefined</span><br><span class="line">        <span class="built_in">this</span>.index = index;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>异常捕捉：try、catch、finally</p>
</li>
<li><p>throws ：在方法声明位置上使用，表示上报异常信息给调用者</p>
</li>
<li><p>throw ：手动抛出异常</p>
</li>
</ul>
<h1 id="29-集合"><a href="#29-集合" class="headerlink" title="29 集合"></a>29 集合</h1><h2 id="29-1-集合概述"><a href="#29-1-集合概述" class="headerlink" title="29.1 集合概述"></a>29.1 集合概述</h2><ul>
<li><p>集合：所有的集合类和集合接口都在java.util包下，java.util.*，</p>
<ul>
<li>实质上就是一个容器，存储Java对象的内存地址，或者说存储的是引用</li>
<li>集合不能存储基本数据类型，也不能直接存储Java对象</li>
</ul>
</li>
<li><p>集合底层的数据结构：</p>
<ul>
<li>Java中每一个不同的集合，底层会存储不同的数据结构</li>
<li>使用不同的集合，就使用了不同的数据结构，数据的存储方式就不同</li>
</ul>
</li>
<li><p>集合的分类：两大超级父接口</p>
<ul>
<li>java.util.Connection：单个方式存储元素</li>
<li>java.util.Map：以键值对的方式存储元素</li>
</ul>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/01/2243690-9cd9c896e0d512ed.gif"></p>
</li>
<li><p>Collection集合的继承构造图：</p>
<ul>
<li>超级父接口：Interable接口，继承其interator()方法</li>
<li>List接口：ArrayList、LinkedList</li>
<li>Set接口：HashSet、SortedSet接口—&gt; TreeSet</li>
<li>Queue接口</li>
</ul>
</li>
<li><p>Map集合的继承构造图：</p>
<ul>
<li>HashMap、Hashtable</li>
<li>SortedMap接口：TreeMap</li>
</ul>
</li>
<li><p>实现类的总结：</p>
<ul>
<li>ArrayList：数组、非线程安全</li>
<li>LinkedList：双向链表</li>
<li>Vector：数组、线程安全</li>
<li>HashSet：底层是hashMap集合，放到HashSet集合中的元素等同于放到HashMap集合key部分</li>
<li>TreeSet：底层是TreeMap集合，放到TreeSet集合中的元素等同于放到TreeMap集合key部分</li>
<li>HashMap：哈希表、非线程安全</li>
<li>Hashtable：哈希表、线程安全</li>
<li>properties：线程安全，key和value只能存储字符串</li>
<li>TreeMap：二叉树，TreeMap集合的key可以自动按照大小排序</li>
</ul>
</li>
<li><p>集合的总结：</p>
<ul>
<li>List接口：序列（存取有序、允许重复、有下标）</li>
<li>Set接口（Map）：集（存取无序、不允许重复）</li>
<li>SortedSet（SortedMap）接口：（存取无序、不允许重复、可排序的）</li>
<li>Map集合的key就是一个Set集合，在Set集合放数据就是在Map集合key部分</li>
</ul>
</li>
</ul>
<h2 id="29-2-Collection集合"><a href="#29-2-Collection集合" class="headerlink" title="29.2 Collection集合"></a>29.2 Collection集合</h2><ul>
<li><p>Collection接口：</p>
<ul>
<li>没有使用“泛型”之前，Collection中可以存储Object的所有子类型</li>
<li>使用了“泛型”之后，Collection中只能存储某个具体的类型</li>
</ul>
</li>
<li><p>Collection中的常用方法：</p>
<ul>
<li>boolean add(Object e) 向集合中添加元素</li>
<li>int size()  获取集合中元素的个数</li>
<li>void clear() 清空集合</li>
<li>boolean contains(Object o) 判断当前集合中是否包含元素o，包含返回true，不包含返回false</li>
<li>boolean remove(Object o) 删除集合中的某个元素。</li>
<li>boolean isEmpty()  判断该集合中元素的个数是否为0</li>
<li>Object[] toArray()  调用这个方法可以把集合转换成数组</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//Collection c = new Collection();  // 接口是抽象的，无法实例化</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 向集合中添加元素</span></span><br><span class="line">        c.add(<span class="number">1200</span>);  <span class="comment">// 自动装箱，实际存放对象地址Integer x = new Integer(1200);</span></span><br><span class="line">        c.add(<span class="number">3.14</span>); </span><br><span class="line">        c.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">        c.add(<span class="keyword">new</span> <span class="title class_">Student</span>());</span><br><span class="line">        c.add(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取集合中元素的个数</span></span><br><span class="line">        System.out.println(<span class="string">&quot;元素个数是：&quot;</span> + c.size());  <span class="comment">// 元素个数是：5</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 清空集合</span></span><br><span class="line">        c.clear();</span><br><span class="line">        System.out.println(<span class="string">&quot;元素个数是：&quot;</span> + c.size());  <span class="comment">// 元素个数是：0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 再向集合中添加元素</span></span><br><span class="line">        c.add(<span class="string">&quot;hello&quot;</span>);  <span class="comment">// &quot;hello&quot;对象的内存地址放到了集合当中</span></span><br><span class="line">        c.add(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">        c.add(<span class="string">&quot;浩克&quot;</span>);</span><br><span class="line">        c.add(<span class="string">&quot;绿巨人&quot;</span>);</span><br><span class="line">        c.add(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断集合中是否包含指定字符串</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag2</span> <span class="operator">=</span> c.contains(<span class="string">&quot;绿巨人2&quot;</span>);</span><br><span class="line">        System.out.println(flag2);   <span class="comment">// false</span></span><br><span class="line">        System.out.println(c.contains(<span class="number">1</span>));  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除集合中某个元素</span></span><br><span class="line">        c.remove(<span class="number">1</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;元素个数是：&quot;</span> + c.size());  <span class="comment">// 元素个数是：4</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断集合是否为空（集合中是否存在元素）</span></span><br><span class="line">        System.out.println(c.isEmpty());  <span class="comment">// false</span></span><br><span class="line">        c.clear();</span><br><span class="line">        System.out.println(c.isEmpty());  <span class="comment">// true（表示集合中没有元素）</span></span><br><span class="line"></span><br><span class="line">        c.add(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        c.add(<span class="number">100</span>);</span><br><span class="line">        c.add(<span class="keyword">new</span> <span class="title class_">Student</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 转换成数组（了解）</span></span><br><span class="line">        Object[] objs = c.toArray();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; objs.length; i++)&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> objs[i];</span><br><span class="line">            System.out.println(o);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*（运行结果）</span></span><br><span class="line"><span class="comment">        abc</span></span><br><span class="line"><span class="comment">        100</span></span><br><span class="line"><span class="comment">        com.bjpowernode.javase.collection.Student@e9e54c2</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>contains(Object o)：</p>
<ul>
<li>判断当前集合中是否包含元素o，包含返回true，不包含返回false</li>
<li>源码使用了equals方法对比，会调用此数据类型的equals方法</li>
<li>注意事项：字符串默认重写了equals，但自定义的类需要手动重写equals</li>
<li>remove(Object o)也同样调用了equals方法</li>
</ul>
</li>
<li><p>关于String类型的比较：</p>
<ul>
<li>String类型数据如果是new出来的，String引用指向一个对象，对象中存储字符串常量池的地址，所以不能直接比较，因为对象的内存地址一定不相同</li>
<li>String类型数据如果是直接双引号赋值，String引用存储的就是字符串常量池中同一个字符串，因为Java为了节省存储空间，不会新创建</li>
<li>对比字符串使用equals方法，比较的就是字符串本身，而不是字符串对象的地址</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionTest04</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;abc&quot;</span>);  <span class="comment">// s1 = 0x1111</span></span><br><span class="line">        c.add(s1);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;def&quot;</span>);  <span class="comment">// s2 = 0x2222</span></span><br><span class="line">        c.add(s2);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">x</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;abc&quot;</span>);  <span class="comment">// x = 0x5555</span></span><br><span class="line">        </span><br><span class="line">        System.out.println(c.contains(x));  <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    结论：存放在一个集合中的类型，一定要重写equals方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionTest05</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        <span class="type">User</span> <span class="variable">u1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        c.add(u1);</span><br><span class="line">        <span class="type">User</span> <span class="variable">u2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            没有重写equals之前：false</span></span><br><span class="line"><span class="comment">            重写equals方法之后会比较name：true</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        System.out.println(c.contains(u2));  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        	Integer默认重写了equals方法</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">x</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">10000</span>);</span><br><span class="line">        c.add(x);</span><br><span class="line"></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">y</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">10000</span>);</span><br><span class="line">        System.out.println(c.contains(y));  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        	String默认重写了equals方法</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">cc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        cc.add(s1);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        cc.remove(s2); </span><br><span class="line">        System.out.println(cc.size());  <span class="comment">// 0（Java认为s1和s2是一样的）</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(o == <span class="literal">null</span> || !(o <span class="keyword">instanceof</span> User)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(o == <span class="built_in">this</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">User</span> <span class="variable">u</span> <span class="operator">=</span> (User)o;</span><br><span class="line">        <span class="keyword">return</span> u.name.equals(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="29-3-Interator迭代器"><a href="#29-3-Interator迭代器" class="headerlink" title="29.3 Interator迭代器"></a>29.3 Interator迭代器</h2><ul>
<li><p>Interable接口：</p>
<ul>
<li>是Collection接口的超级父接口</li>
<li>其中有方法interator()，用来创建集合的迭代器对象</li>
</ul>
</li>
<li><p>Interator：</p>
<ul>
<li>既是方法也是类型名，表示集合的迭代器对象，用于集合遍历</li>
<li>方法：hashNext()、next()、remove()</li>
<li>在Map集合中不能用，在所有的Collection以及子类中使用</li>
</ul>
</li>
<li><p>Interator的方法：</p>
<ul>
<li>hasNext()：如果仍有元素可以迭代，则返回true</li>
<li>next()：让迭代器前进一位，并返回指向元素</li>
<li>存进去什么类型，next()取出来返回就是什么类型，只是sout的类型为字符串</li>
<li>一开始迭代器对象it不是指向集合中第一个元素，先前进再返回</li>
</ul>
</li>
<li><p>遍历&#x2F;迭代的步骤：</p>
<ul>
<li>第一步：获取集合对象的迭代器对象Iterator</li>
<li>第二步：通过以上的迭代器对象开始迭代&#x2F;遍历集合</li>
<li>一直取it.next()不判断it.hasNext()，会java.util.NoSuchElementException异常</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionTest02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>(); </span><br><span class="line">        c.add(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        c.add(<span class="number">100</span>);</span><br><span class="line">        c.add(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第一步</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> c.iterator();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 第二步</span></span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> it.next();</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        abc</span></span><br><span class="line"><span class="comment">        100</span></span><br><span class="line"><span class="comment">        java.lang.Object@3f99bd52</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>迭代器是通用的：</p>
<ul>
<li>ArrayList集合：有序可重复</li>
<li>HashSet集合：无序不可重复</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionTest03</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Collection</span> <span class="variable">c1</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>(); </span><br><span class="line">        c1.add(<span class="number">1</span>);</span><br><span class="line">        c1.add(<span class="number">2</span>);</span><br><span class="line">        c1.add(<span class="number">3</span>);</span><br><span class="line">        c1.add(<span class="number">4</span>);</span><br><span class="line">        c1.add(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> c1.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> it.next();</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        1</span></span><br><span class="line"><span class="comment">        2</span></span><br><span class="line"><span class="comment">        3</span></span><br><span class="line"><span class="comment">        4</span></span><br><span class="line"><span class="comment">        1</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        <span class="comment">// 不可重复：存储100，不能再存储100</span></span><br><span class="line">        c2.add(<span class="number">100</span>);</span><br><span class="line">        c2.add(<span class="number">200</span>);</span><br><span class="line">        c2.add(<span class="number">300</span>);</span><br><span class="line">        c2.add(<span class="number">90</span>);</span><br><span class="line">        c2.add(<span class="number">400</span>);</span><br><span class="line">        c2.add(<span class="number">50</span>);</span><br><span class="line">        c2.add(<span class="number">60</span>);</span><br><span class="line">        c2.add(<span class="number">100</span>);</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">it2</span> <span class="operator">=</span> c2.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it2.hasNext())&#123;</span><br><span class="line">            System.out.println(it2.next());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        400</span></span><br><span class="line"><span class="comment">        50</span></span><br><span class="line"><span class="comment">        100</span></span><br><span class="line"><span class="comment">        200</span></span><br><span class="line"><span class="comment">        90</span></span><br><span class="line"><span class="comment">        300</span></span><br><span class="line"><span class="comment">        60</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>迭代器的remove()方法：</p>
<ul>
<li>当集合的结构发生改变时，迭代器必须重新获取，否则会出现异常java.util.ConcurrentModificationException</li>
<li>在迭代元素时，只能使用迭代器Iterator的remove方法删除，不要使用集合自带的remove方法</li>
<li>此方法删除的一定是迭代器指向的当前元素，并会自动更新迭代器和更新集合</li>
<li>可以理解为，迭代器类似于快照，迭代器的remove方法是同时更新快照和集合元素</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionTest04</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 此时迭代器，指向的是集合中没有元素状态下的迭代器，会出现异常java.util.ConcurrentModificationException</span></span><br><span class="line">        <span class="comment">// Iterator it = c.iterator();</span></span><br><span class="line">        </span><br><span class="line">        c.add(<span class="number">1</span>); </span><br><span class="line">        c.add(<span class="number">2</span>);</span><br><span class="line">        c.add(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取迭代器的位置</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> c.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> it.next();</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用迭代器的remove方法删除元素</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        c2.add(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        c2.add(<span class="string">&quot;def&quot;</span>);</span><br><span class="line">        c2.add(<span class="string">&quot;xyz&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">it2</span> <span class="operator">=</span> c2.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it2.hasNext())&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> it2.next();</span><br><span class="line">            <span class="comment">//c2.remove(o);  // 异常原因：集合中元素删除了，但是没有更新迭代器</span></span><br><span class="line">            it2.remove();</span><br><span class="line">            System.out.println(o);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(c2.size());  <span class="comment">// 0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="29-4-List：ArrayList"><a href="#29-4-List：ArrayList" class="headerlink" title="29.4 List：ArrayList"></a>29.4 List：ArrayList</h2><ul>
<li><p>List：序列（存取有序、允许重复、有下标从0开始）</p>
</li>
<li><p>list的特有方法：</p>
<ul>
<li>void add(int index, Object element)</li>
<li>Object set(int index, Object element)</li>
<li>Object get(int index)</li>
<li>int indexOf(Object o)</li>
<li>int lastIndexOf(Object o)</li>
<li>Object remove(int index)</li>
</ul>
</li>
<li><p>创建List类型集合才能使用特有方法，其实现类有：</p>
</li>
<li><p>但不管是LinkedList还是ArrayList，不需要关心具体是哪个集合。因为我们要面向接口编程（Link），调用的方法都是接口中的方法</p>
<ul>
<li><p>ArrayList（数组、非线程安全）</p>
</li>
<li><p>LinkedList（双向链表）</p>
</li>
<li><p>Vector（数组，线程安全）</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//List myList = new LinkedList();</span></span><br><span class="line">        <span class="comment">//List myList = new Vector();</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">myList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 默认向集合末尾添加元素</span></span><br><span class="line">        myList.add(<span class="string">&quot;A&quot;</span>);  </span><br><span class="line">        myList.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        myList.add(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        myList.add(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        myList.add(<span class="string">&quot;D&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 在列表的指定位置插入指定元素，效率比较低</span></span><br><span class="line">        myList.add(<span class="number">1</span>, <span class="string">&quot;KING&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 迭代</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> myList.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">elt</span> <span class="operator">=</span> it.next();</span><br><span class="line">            System.out.println(elt);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 根据下标获取元素</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">firstObj</span> <span class="operator">=</span> myList.get(<span class="number">0</span>);</span><br><span class="line">        System.out.println(firstObj);  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// List集合有自己比较特殊的遍历方式：通过下标遍历</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; myList.size(); i++)&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> myList.get(i);</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取指定对象第一次出现处的索引</span></span><br><span class="line">        System.out.println(myList.indexOf(<span class="string">&quot;C&quot;</span>)); </span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取指定对象最后一次出现处的索引</span></span><br><span class="line">        System.out.println(myList.lastIndexOf(<span class="string">&quot;C&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除指定下标位置的元素</span></span><br><span class="line">        myList.remove(<span class="number">0</span>);</span><br><span class="line">        System.out.println(myList.size()); </span><br><span class="line"></span><br><span class="line">        <span class="comment">// 修改指定位置的元素</span></span><br><span class="line">        myList.set(<span class="number">2</span>, <span class="string">&quot;Soft&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ArrayList实现类（数组、非线程安全）<ul>
<li>集合底层是一个Object[]数组，默认初始化容量10</li>
<li>扩容：增长到原容量的1.5倍，就是二进制向右移动一位</li>
<li>优化：尽可能少的扩容，效率比较低，建议在使用预估计元素的个数，给定初始化容量</li>
<li>（面试题）最多使用的集合：ArrayList集合，因为往数组末尾添加元素，效率不受影响。另外检索和查找某个元素的操作比较多时</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    构造方法：</span></span><br><span class="line"><span class="comment">     new ArrayList();</span></span><br><span class="line"><span class="comment">     new ArrayList(20);</span></span><br><span class="line"><span class="comment">     new ArrayList(Collection&lt;?extend E&gt;c);  //构造包含一个指定Collection的元素的列表</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     // 创建一个HashSet集合</span></span><br><span class="line"><span class="comment">     Collection c = new HashSet();</span></span><br><span class="line"><span class="comment">	 // 可以将HashSet集合转换成List集合。</span></span><br><span class="line"><span class="comment">     List myList3 = new ArrayList(c);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayListTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 默认初始化容量是10</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">list1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 指定初始化容量,数组的长度是20</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">list2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>(<span class="number">20</span>);</span><br><span class="line">       </span><br><span class="line">        list1.add(<span class="number">1</span>);</span><br><span class="line">        list1.add(<span class="number">2</span>);</span><br><span class="line">        list1.add(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取当前集合中元素的个数。不是获取集合的容量</span></span><br><span class="line">        System.out.println(list1.size());  <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        int newCapacity = ArraysSupport.newLength(oldCapacity,minCapacity - oldCapacity,oldCapacity &gt;&gt; 1);</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        源码eg：二进制00000100 右移一位 00000010 </span></span><br><span class="line"><span class="comment">        原先是4，增长之后是6，增长之后的容量是之前容量的1.5倍</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>LinkedList实现类（双向链表、有下标）：<ul>
<li>LinkedList集合没有初始化容量，最初这个链表中没有任何元素，first和last引用都是null</li>
<li>注意：ArrayList之所以检索效率比较高，不是单纯因为下标的原因，是因为底层数组发挥的作用。LinkedList集合有下标，但是只能从头节点开始遍历</li>
<li>由于内存地址可不连续，所以随机增删时不会有大量元素位移，效率较高</li>
<li>（面试题）在以后的开发中，如果遇到随机增删集合中元素的业务比较多时，建议使用LinkedList。但通常情况下，末尾添加元素多，ArrayList使用还是多与LinkedList</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedListTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinkedList</span>();</span><br><span class="line">        list.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;list.size(); i++)&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">List</span> <span class="variable">list1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>(); <span class="comment">// 这样写表示底层你用了数组</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">list2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinkedList</span>(); <span class="comment">// 这样写表示底层你用了双向链表</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 但这些方法面向的都是接口Link编程，与底层无关</span></span><br><span class="line">        list2.add(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Vector（数组，线程安全）：<ul>
<li>线程同步的，所以是线程安全的</li>
<li>但目前有别的方法保证线程安全，使用ArrayList较多</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="29-5-Set：HashSet"><a href="#29-5-Set：HashSet" class="headerlink" title="29.5 Set：HashSet"></a>29.5 Set：HashSet</h2><ul>
<li><p>Set：集（存取无序、不允许重复、没有下标）</p>
</li>
<li><p>HashSet：底层是hashMap集合，放到HashSet集合中的元素等同于放到HashMap集合key部分</p>
<ul>
<li>不可重复、存储时顺序和取出的顺序不同</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSetTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        Set&lt;String&gt; strs = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        strs.add(<span class="string">&quot;hello3&quot;</span>);</span><br><span class="line">        strs.add(<span class="string">&quot;hello4&quot;</span>);</span><br><span class="line">        strs.add(<span class="string">&quot;hello1&quot;</span>);</span><br><span class="line">        strs.add(<span class="string">&quot;hello2&quot;</span>);</span><br><span class="line">        strs.add(<span class="string">&quot;hello3&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(String s : strs)&#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        hello1</span></span><br><span class="line"><span class="comment">        hello4</span></span><br><span class="line"><span class="comment">        hello2</span></span><br><span class="line"><span class="comment">        hello3</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>TreeSet：底层是TreeMap集合，放到TreeSet集合中的元素等同于放到TreeMap集合key部分</p>
<ul>
<li>不可重复的，但是存储的元素可以自动按照大小顺序排序</li>
<li>无序指的是存进去的顺序和取出来的顺序不同，并且没有下标</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeSetTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Set&lt;String&gt; strs = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">        strs.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        strs.add(<span class="string">&quot;Z&quot;</span>);</span><br><span class="line">        strs.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(String s : strs)&#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        A</span></span><br><span class="line"><span class="comment">        B</span></span><br><span class="line"><span class="comment">        Z</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="29-6-Map集合"><a href="#29-6-Map集合" class="headerlink" title="29.6 Map集合"></a>29.6 Map集合</h2><ul>
<li><p>Map接口：</p>
<ul>
<li>Map和Collection没有继承关系</li>
<li>Map集合以key和value的方式存储数据，键值对</li>
<li>key和value都是引用数据类型，都是存储对象的内存地址</li>
</ul>
</li>
<li><p>Map的常用方法：</p>
<ul>
<li>V put(K key, V value) 向Map集合中添加键值对</li>
<li>V get(Object key) 通过key获取value</li>
<li>void clear()    清空Map集合</li>
<li>boolean containsKey(Object key) 判断Map中是否包含某个key</li>
<li>boolean containsValue(Object value) 判断Map中是否包含某个value</li>
<li>boolean isEmpty()   判断Map集合中元素个数是否为0</li>
<li>V remove(Object key) 通过key删除键值对</li>
<li>int size() 获取Map集合中键值对的个数。</li>
<li>Collection<V> values() 获取Map集合中所有的value，返回一个Collection</li>
<li>Set<K> keySet() 获取Map集合所有的key（所有的键是一个set集合）</li>
<li>Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() 将Map集合转换成Set集合</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 	map1集合对象</span></span><br><span class="line"><span class="comment"> 	key             value</span></span><br><span class="line"><span class="comment"> 	----------------------------</span></span><br><span class="line"><span class="comment"> 	1               zhangsan</span></span><br><span class="line"><span class="comment"> 	2               lisi</span></span><br><span class="line"><span class="comment"> 	3               wangwu	</span></span><br><span class="line"><span class="comment"> 	4               zhaoliu</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 	Set set = map1.entrySet();</span></span><br><span class="line"><span class="comment"> 	set集合对象</span></span><br><span class="line"><span class="comment"> 	1=zhangsan </span></span><br><span class="line"><span class="comment"> 	2=lisi     </span></span><br><span class="line"><span class="comment"> 	3=wangwu</span></span><br><span class="line"><span class="comment"> 	4=zhaoliu ---&gt; Map.Entry</span></span><br><span class="line"><span class="comment"> 	</span></span><br><span class="line"><span class="comment"> 	entrySet()方法：Set集合中元素的类型是 Map.Entry&lt;K,V&gt;</span></span><br><span class="line"><span class="comment">	Map.Entry和String一样，都是一种类型的名字，但Map.Entry是Map中的静态内部类</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        Map&lt;Integer, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="number">1</span>, <span class="string">&quot;zhangsan&quot;</span>);  <span class="comment">// 1在这里进行了自动装箱</span></span><br><span class="line">        map.put(<span class="number">2</span>, <span class="string">&quot;lisi&quot;</span>);</span><br><span class="line">        map.put(<span class="number">3</span>, <span class="string">&quot;wangwu&quot;</span>);</span><br><span class="line">        map.put(<span class="number">4</span>, <span class="string">&quot;zhaoliu&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 通过key获取value</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> map.get(<span class="number">2</span>);</span><br><span class="line">        System.out.println(value); <span class="comment">// lisi</span></span><br><span class="line">        <span class="comment">// 获取键值对的数量</span></span><br><span class="line">        System.out.println(<span class="string">&quot;键值对的数量：&quot;</span> + map.size()); <span class="comment">// 键值对的数量：4</span></span><br><span class="line">        <span class="comment">// 通过key删除key-value</span></span><br><span class="line">        map.remove(<span class="number">2</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;键值对的数量：&quot;</span> + map.size()); <span class="comment">// 键值对的数量：3</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 判断是否包含某个key</span></span><br><span class="line">        <span class="comment">// contains方法底层调用的都是equals进行比对的，所以自定义的类型需要重写equals方法</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">4</span>))); <span class="comment">// true</span></span><br><span class="line">        <span class="comment">// 判断是否包含某个value</span></span><br><span class="line">        System.out.println(map.containsValue(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;wangwu&quot;</span>))); <span class="comment">// true</span></span><br><span class="line">        <span class="comment">// 获取所有的value</span></span><br><span class="line">        Collection&lt;String&gt; values = map.values();</span><br><span class="line">        <span class="comment">// foreach</span></span><br><span class="line">        <span class="keyword">for</span>(String s : values)&#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 清空map集合</span></span><br><span class="line">        map.clear();</span><br><span class="line">        System.out.println(<span class="string">&quot;键值对的数量：&quot;</span> + map.size()); <span class="comment">// 键值对的数量：0</span></span><br><span class="line">        <span class="comment">// 判断是否为空</span></span><br><span class="line">        System.out.println(map.isEmpty()); <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>遍历Map集合：</p>
<ul>
<li>第一种方式：获取所有的key，通过遍历key，来遍历value。foreach也可以实现</li>
<li>第二种方式：Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第一种方式：获取所有的key，通过遍历key，来遍历value</span></span><br><span class="line">        Map&lt;Integer, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="number">1</span>, <span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        map.put(<span class="number">2</span>, <span class="string">&quot;lisi&quot;</span>);</span><br><span class="line">        map.put(<span class="number">3</span>, <span class="string">&quot;wangwu&quot;</span>);</span><br><span class="line">        map.put(<span class="number">4</span>, <span class="string">&quot;zhaoliu&quot;</span>);</span><br><span class="line">        Set&lt;Integer&gt; keys = map.keySet();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 迭代器：获取所有的key，所有的key是一个Set集合</span></span><br><span class="line">        <span class="comment">/*Iterator&lt;Integer&gt; it = keys.iterator();</span></span><br><span class="line"><span class="comment">        while(it.hasNext())&#123;</span></span><br><span class="line"><span class="comment">            // 取出其中一个key</span></span><br><span class="line"><span class="comment">            Integer key = it.next();</span></span><br><span class="line"><span class="comment">            // 通过key获取value</span></span><br><span class="line"><span class="comment">            String value = map.get(key);</span></span><br><span class="line"><span class="comment">            System.out.println(key + &quot;=&quot; + value);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// foreach也可以</span></span><br><span class="line">        <span class="keyword">for</span>(Integer key : keys)&#123;</span><br><span class="line">            System.out.println(key + <span class="string">&quot;=&quot;</span> + map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        1=zhangsan</span></span><br><span class="line"><span class="comment">        2=lisi</span></span><br><span class="line"><span class="comment">        3=wangwu</span></span><br><span class="line"><span class="comment">        4=zhaoliu</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第二种方式：Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</span></span><br><span class="line">        Set&lt;Map.Entry&lt;Integer,String&gt;&gt; set = map.entrySet();</span><br><span class="line">        <span class="comment">// 迭代器：遍历Set集合，每一次取出一个Node</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        Iterator&lt;Map.Entry&lt;Integer,String&gt;&gt; it2 = set.iterator();</span></span><br><span class="line"><span class="comment">        while(it2.hasNext())&#123;</span></span><br><span class="line"><span class="comment">            Map.Entry&lt;Integer,String&gt; node = it2.next();</span></span><br><span class="line"><span class="comment">            Integer key = node.getKey();</span></span><br><span class="line"><span class="comment">            String value = node.getValue();</span></span><br><span class="line"><span class="comment">            System.out.println(key + &quot;=&quot; + value);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// foreach效率比较高，因为获取key和value都是直接从node对象中获取的属性值，比较适合于大数据量。</span></span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Integer,String&gt; node : set)&#123;</span><br><span class="line">            System.out.println(node.getKey() + <span class="string">&quot;---&gt;&quot;</span> + node.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="29-7-HashMap"><a href="#29-7-HashMap" class="headerlink" title="29.7 HashMap"></a>29.7 HashMap</h2><ul>
<li><p>HashMap：底层是哈希表&#x2F;散列表，哈希表是一个数组和单向链表的结合体</p>
<ul>
<li>数组：在查询方面效率很高，随机增删方面效率很低</li>
<li>单向链表：在随机增删方面效率较高，在查询方面效率很低</li>
<li>哈希表：增删在链表上完成，查询也只需要部分扫描，结合两者优点</li>
</ul>
</li>
<li><p>HashMap集合底层的源代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashMap</span>&#123;</span><br><span class="line">    <span class="comment">// HashMap底层实际上就是一个数组（一维数组）</span></span><br><span class="line">	Node&lt;K,V&gt;[] table;  <span class="comment">// 静态的内部类HashMap.Node</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span>&lt;K,V&gt; &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span> hash; <span class="comment">// 哈希值是key的hashCode()方法的执行结果,hash值通过哈希函数/算法，可以转换存储成数组的下标</span></span><br><span class="line">    <span class="keyword">final</span> K key;  <span class="comment">// 存储到Map集合中的key</span></span><br><span class="line">    V value;  <span class="comment">// 存储到Map集合中的value</span></span><br><span class="line">    Node&lt;K,V&gt; next;  <span class="comment">// 下一个节点的内存地址</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>哈希表&#x2F;散列表：一维数组，这个数组中每一个元素是一个单向链表（数组和链表的结合体）</p>
</li>
<li><p>HashMap的方法：最主要掌握，这两个方法的实现原理</p>
<ul>
<li>map.put(k,v)</li>
<li>v &#x3D; map.get(k)</li>
</ul>
</li>
<li><p>map.put(k, v)的实现原理：</p>
<ul>
<li>第一步：先将k封装到Node对象中</li>
<li>第二步：底层调用hashCode()方法得出哈希值</li>
<li>第三步：对应哈希值下标位置添加，equals比较和覆盖</li>
</ul>
</li>
<li><p>HashMap集合的key部分特点：无序，不可重复</p>
<ul>
<li>无序：因为不一定挂到哪个单向链表上</li>
<li>不可重复： equals方法来保证HashMap集合的key不可重复，如果key重复了，value会覆盖</li>
<li>放在HashMap集合key部分的元素其实就是放到HashSet集合中了</li>
<li>所以HashSet集合中的元素也需要同时重写hashCode()+equals()方法</li>
</ul>
</li>
</ul>
<h2 id="29-8-工具类"><a href="#29-8-工具类" class="headerlink" title="29.8 工具类"></a>29.8 工具类</h2><h2 id="29-9-增强for循环"><a href="#29-9-增强for循环" class="headerlink" title="29.9 增强for循环"></a>29.9 增强for循环</h2><ul>
<li><p>foreach：增强for循环，JDK5.0之后推出的新特性</p>
<ul>
<li><p>for(元素类型 变量名 : 数组或集合) {<br>        System.out.println(变量名);<br>}</p>
</li>
<li><p>缺点：没有下标，在需要使用下标的循环中，不建议使用</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">集合使用foreach</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ForEachTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; strList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        strList.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        strList.add(<span class="string">&quot;world!&quot;</span>);</span><br><span class="line">        strList.add(<span class="string">&quot;kitty!&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 遍历：使用迭代器方式</span></span><br><span class="line">        Iterator&lt;String&gt; it = strList.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> it.next();</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历：使用下标方式（只针对于有下标的集合）</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; strList.size(); i++)&#123;</span><br><span class="line">            System.out.println(strList.get(i));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历：使用foreach</span></span><br><span class="line">        <span class="keyword">for</span>(String s : strList)&#123;  <span class="comment">// 因为泛型使用的是String类型，s表示每一个元素</span></span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="number">100</span>);</span><br><span class="line">        list.add(<span class="number">200</span>);</span><br><span class="line">        list.add(<span class="number">300</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(Integer i : list)&#123; </span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="30-泛型"><a href="#30-泛型" class="headerlink" title="30 泛型"></a>30 泛型</h1><h2 id="30-1-泛型机制"><a href="#30-1-泛型机制" class="headerlink" title="30.1 泛型机制"></a>30.1 泛型机制</h2><ul>
<li><p>泛型：JDK5.0之后推出的新特性。只在程序编译阶段起作用，只是给编译器参考的，运行阶段泛型没用</p>
</li>
<li><p>泛型的好处：</p>
<ul>
<li>集合中存储的元素类型统一了</li>
<li>&#x3D;取出的元素类型是泛型指定的类型，不需要大量的向下转型</li>
</ul>
</li>
<li><p>泛型的缺点：</p>
<ul>
<li>导致集合中存储的元素缺乏多样性，只能存储指定类型</li>
<li>但是大多数业务中，集合中元素的类型还是统一的</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        // 不使用泛型机制</span></span><br><span class="line"><span class="comment">        List myList = new ArrayList();</span></span><br><span class="line"><span class="comment">        Cat c = new Cat();</span></span><br><span class="line"><span class="comment">        Bird b = new Bird();</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        myList.add(c);</span></span><br><span class="line"><span class="comment">        myList.add(b);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        Iterator it = myList.iterator();</span></span><br><span class="line"><span class="comment">        while(it.hasNext()) &#123;</span></span><br><span class="line"><span class="comment">            // 通过迭代器取出的只能是Object类型</span></span><br><span class="line"><span class="comment">            Object obj = it.next();</span></span><br><span class="line"><span class="comment">            </span></span><br><span class="line"><span class="comment">            //obj中没有move方法，需要向下转型！</span></span><br><span class="line"><span class="comment">            if(obj instanceof Animal)&#123;</span></span><br><span class="line"><span class="comment">                Animal a = (Animal)obj;</span></span><br><span class="line"><span class="comment">                a.move();</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用JDK5之后的泛型机制</span></span><br><span class="line">        List&lt;Animal&gt; myList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Animal&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//myList.add(&quot;abc&quot;);  // 编译报错</span></span><br><span class="line">        <span class="type">Cat</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        <span class="type">Bird</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bird</span>();</span><br><span class="line"></span><br><span class="line">        myList.add(c);</span><br><span class="line">        myList.add(b);</span><br><span class="line"></span><br><span class="line">        Iterator&lt;Animal&gt; it = myList.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="type">Animal</span> <span class="variable">a</span> <span class="operator">=</span> it.next();</span><br><span class="line">            a.move();</span><br><span class="line">            <span class="keyword">if</span>(a <span class="keyword">instanceof</span> Cat) &#123;</span><br><span class="line">                <span class="type">Cat</span> <span class="variable">x</span> <span class="operator">=</span> (Cat)a;</span><br><span class="line">                x.catchMouse();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(a <span class="keyword">instanceof</span> Bird) &#123;</span><br><span class="line">                <span class="type">Bird</span> <span class="variable">y</span> <span class="operator">=</span> (Bird)a;</span><br><span class="line">                y.fly();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">move</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;动物在移动&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">catchMouse</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;猫抓老鼠&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bird</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;鸟儿在飞翔&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="30-2-类型自动推断"><a href="#30-2-类型自动推断" class="headerlink" title="30.2 类型自动推断"></a>30.2 类型自动推断</h2><ul>
<li><p>自动类型推断机制：JDK之后引入，又称为钻石表达式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTest02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 自动类型推断机制、钻石表达式</span></span><br><span class="line">        List&lt;Animal&gt; myList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        myList.add(<span class="keyword">new</span> <span class="title class_">Animal</span>());</span><br><span class="line">        myList.add(<span class="keyword">new</span> <span class="title class_">Cat</span>());</span><br><span class="line">        myList.add(<span class="keyword">new</span> <span class="title class_">Bird</span>());</span><br><span class="line"></span><br><span class="line">        Iterator&lt;Animal&gt; it = myList.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="type">Animal</span> <span class="variable">a</span> <span class="operator">=</span> it.next();</span><br><span class="line">            a.move();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="30-3-自定义泛型"><a href="#30-3-自定义泛型" class="headerlink" title="30.3 自定义泛型"></a>30.3 自定义泛型</h2><ul>
<li><p>自定义泛型：</p>
</li>
<li><p>&lt;&gt; 尖括号中的是一个标识符，随便写</p>
</li>
<li><p>使用方法时，在标识符位置必须和new对象的类型相同</p>
</li>
<li><p>java源代码中泛型定义经常使用：<E>和<T></p>
</li>
<li><p>E是Element单词首字母，T是Type单词首字母</p>
</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.javase.collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTest03</span>&lt;标识符随便写&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSome</span><span class="params">(标识符随便写 o)</span>&#123;</span><br><span class="line">        System.out.println(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// new对象的时候指定了泛型是：String类型</span></span><br><span class="line">        GenericTest03&lt;String&gt; gt = <span class="keyword">new</span> <span class="title class_">GenericTest03</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 类型必须为new对象指定的泛型</span></span><br><span class="line">        <span class="comment">//gt.doSome(100);  // 类型不匹配</span></span><br><span class="line">        gt.doSome(<span class="string">&quot;abc&quot;</span>);  <span class="comment">// abc</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ========================================</span></span><br><span class="line">        GenericTest03&lt;Integer&gt; gt2 = <span class="keyword">new</span> <span class="title class_">GenericTest03</span>&lt;&gt;();</span><br><span class="line">        gt2.doSome(<span class="number">100</span>);  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// 规定返回值类型必须为指定的泛型</span></span><br><span class="line">        MyIterator&lt;String&gt; mi = <span class="keyword">new</span> <span class="title class_">MyIterator</span>&lt;&gt;();</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> mi.get();</span><br><span class="line"></span><br><span class="line">        MyIterator&lt;Animal&gt; mi2 = <span class="keyword">new</span> <span class="title class_">MyIterator</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">a</span> <span class="operator">=</span> mi2.get();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ========================================</span></span><br><span class="line">        <span class="comment">// 不用泛型就是Object类型</span></span><br><span class="line">        <span class="type">GenericTest03</span> <span class="variable">gt3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GenericTest03</span>();</span><br><span class="line">        gt3.doSome(<span class="keyword">new</span> <span class="title class_">Object</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyIterator</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">get</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="31-IO流"><a href="#31-IO流" class="headerlink" title="31 IO流"></a>31 IO流</h1><h2 id="31-1-IO流概述"><a href="#31-1-IO流概述" class="headerlink" title="31.1 IO流概述"></a>31.1 IO流概述</h2><ul>
<li>IO流：<ul>
<li>I表示Input，O表示Output，通过IO可以完成硬盘文件的读和写</li>
<li>Java中所有的流都是在java.io.*;下</li>
</ul>
</li>
<li>IO流的分类：<ul>
<li>按数据流的方向：输入流、输出流</li>
<li>按处理数据单位：字节流、字符流</li>
<li>按功能：节点流、处理流</li>
</ul>
</li>
<li>IO流四大家族的首领：都是抽象类(abstract class)<ul>
<li>java.io.InputStream  字节输入流</li>
<li>java.io.OutputStream 字节输出流</li>
<li>java.io.Reader        字符输入流</li>
<li>java.io.Writer        字符输出流</li>
</ul>
</li>
<li>都实现了 java.io.Closeable 接口，都是可关闭的，都有close()这个方法</li>
<li>都实现了 java.io.Flushable 接口，都是可刷新的，都有flush()方法</li>
<li>流是内存和硬盘之间的通道，用完之后一定要关闭，不然会占用很多资源，因此在后面的学习和使用中要养成好习惯，用完流一定要关闭</li>
<li>同时，输出流在最终输出之后，也要记得使用flush()方法刷新一下，表示将通道&#x2F;管道当中剩余未输出的数据强行输出完（清空管道）（注意：如果没有flush()可能会导致数据丢失）</li>
</ul>
<h2 id="31-2-重要流"><a href="#31-2-重要流" class="headerlink" title="31.2 重要流"></a>31.2 重要流</h2><ul>
<li>文件专属：<ul>
<li>java.io.FileInputStream（重点掌握）   </li>
<li>java.io.FileOutputStream（重点掌握）   </li>
<li>java.io.FileReader         </li>
<li>java.io.FileWriter</li>
</ul>
</li>
<li>转换流：（将字节流转换成字符流）<ul>
<li>java.io.InputStreamReader 主要是将字节输入流转换成字符输入流</li>
<li>java.io.OutputStreamWriter 主要是将字节输出流转换成字符输出流</li>
</ul>
</li>
<li>缓冲流：（缓冲流主要是为了提高效率而存在的，它可以减少物理读取次数）<ul>
<li>java.io.BufferedReader</li>
<li>java.io.BufferedWriter</li>
<li>java.io.BufferedInputStream</li>
<li>java.io.BufferedOutputStream</li>
</ul>
</li>
<li>数据流专属：<ul>
<li>java.io.DataInputStream</li>
<li>java.io.DataOutputStream</li>
</ul>
</li>
<li>标准输出流：<ul>
<li>java.io.PrintWriter</li>
<li>java.io.PrintStream（掌握）</li>
</ul>
</li>
<li>对象流专属：<ul>
<li>java.io.ObjectInputStream（掌握）</li>
<li>java.io.ObjectOutputStream（掌握）</li>
</ul>
</li>
</ul>
<h2 id="31-3-FileInputStream"><a href="#31-3-FileInputStream" class="headerlink" title="31.3 FileInputStream"></a>31.3 FileInputStream</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">MJ</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://clikemj.github.io/2022/04/04/JAVA/1.Java/JavaSE/JavaSE%20%C2%B7%20%E8%BF%9B%E9%98%B6%E7%AF%87%E2%91%A3/">https://clikemj.github.io/2022/04/04/JAVA/1.Java/JavaSE/JavaSE%20%C2%B7%20%E8%BF%9B%E9%98%B6%E7%AF%87%E2%91%A3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java</a><a class="post-meta__tags" href="/tags/JavaSE/">JavaSE</a></div><div class="post_share"><div class="social-share" data-image="/./img/picture_JavaSE.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/04/07/JAVA/1.Java/MySQL/MySQL%20%C2%B7%20%E5%9F%BA%E7%A1%80%E7%AF%87%E2%91%A0/"><img class="prev-cover" src="/./img/picture_MySQL.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">MySQL · 基础篇①</div></div></a></div><div class="next-post pull-right"><a href="/2022/04/03/JAVA/1.Java/JavaSE/JavaSE%20%C2%B7%20%E5%B8%B8%E7%94%A8%E7%B1%BB%E7%AF%87%E2%91%A2/"><img class="next-cover" src="/./img/picture_JavaSE.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">JavaSE · 常用类篇③</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2022/04/03/JAVA/1.Java/JavaSE/JavaSE%20%C2%B7%20%E5%B8%B8%E7%94%A8%E7%B1%BB%E7%AF%87%E2%91%A2/" title="JavaSE · 常用类篇③"><img class="cover" src="/./img/picture_JavaSE.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-03</div><div class="title">JavaSE · 常用类篇③</div></div></a></div><div><a href="/2022/04/02/JAVA/1.Java/JavaSE/JavaSE%20%C2%B7%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%AF%87%E2%91%A1/" title="JavaSE · 面向对象篇②"><img class="cover" src="/./img/picture_JavaSE.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-02</div><div class="title">JavaSE · 面向对象篇②</div></div></a></div><div><a href="/2022/04/01/JAVA/1.Java/JavaSE/JavaSE%20%C2%B7%20%E5%9F%BA%E7%A1%80%E7%AF%87%E2%91%A0/" title="JavaSE · 基础篇①"><img class="cover" src="/./img/picture_JavaSE.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-01</div><div class="title">JavaSE · 基础篇①</div></div></a></div><div><a href="/2022/04/12/JAVA/1.Java/MySQL/JDBC%20%C2%B7%20%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/" title="JDBC · 入门到精通"><img class="cover" src="/./img/picture_JDBC.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-12</div><div class="title">JDBC · 入门到精通</div></div></a></div><div><a href="/2022/04/08/JAVA/1.Java/MySQL/MySQL%20%C2%B7%20%E9%AB%98%E7%BA%A7%E7%AF%87%E2%91%A1/" title="MySQL · 高级篇②"><img class="cover" src="/./img/picture_MySQL.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-08</div><div class="title">MySQL · 高级篇②</div></div></a></div><div><a href="/2022/04/07/JAVA/1.Java/MySQL/MySQL%20%C2%B7%20%E5%9F%BA%E7%A1%80%E7%AF%87%E2%91%A0/" title="MySQL · 基础篇①"><img class="cover" src="/./img/picture_MySQL.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-07</div><div class="title">MySQL · 基础篇①</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#28-%E5%BC%82%E5%B8%B8"><span class="toc-text">28 异常</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#28-1-%E5%BC%82%E5%B8%B8%E7%9A%84%E6%A6%82%E8%BF%B0"><span class="toc-text">28.1 异常的概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28-2-%E5%BC%82%E5%B8%B8%E7%B1%BB"><span class="toc-text">28.2 异常类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28-3-%E5%BC%82%E5%B8%B8%E7%9A%84%E5%A4%84%E7%90%86"><span class="toc-text">28.3 异常的处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28-3-throws%E5%92%8Ctry%E2%80%A6catch"><span class="toc-text">28.3 throws和try…catch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28-4-%E5%BC%82%E5%B8%B8%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">28.4 异常的常用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28-5-finally%E5%AD%90%E5%8F%A5"><span class="toc-text">28.5 finally子句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28-6-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="toc-text">28.6 自定义异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28-7-%E5%BC%82%E5%B8%B8%E4%B8%8E%E5%BC%80%E5%8F%91"><span class="toc-text">28.7 异常与开发</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#29-%E9%9B%86%E5%90%88"><span class="toc-text">29 集合</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#29-1-%E9%9B%86%E5%90%88%E6%A6%82%E8%BF%B0"><span class="toc-text">29.1 集合概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29-2-Collection%E9%9B%86%E5%90%88"><span class="toc-text">29.2 Collection集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29-3-Interator%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-text">29.3 Interator迭代器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29-4-List%EF%BC%9AArrayList"><span class="toc-text">29.4 List：ArrayList</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29-5-Set%EF%BC%9AHashSet"><span class="toc-text">29.5 Set：HashSet</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29-6-Map%E9%9B%86%E5%90%88"><span class="toc-text">29.6 Map集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29-7-HashMap"><span class="toc-text">29.7 HashMap</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29-8-%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-text">29.8 工具类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29-9-%E5%A2%9E%E5%BC%BAfor%E5%BE%AA%E7%8E%AF"><span class="toc-text">29.9 增强for循环</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#30-%E6%B3%9B%E5%9E%8B"><span class="toc-text">30 泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#30-1-%E6%B3%9B%E5%9E%8B%E6%9C%BA%E5%88%B6"><span class="toc-text">30.1 泛型机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#30-2-%E7%B1%BB%E5%9E%8B%E8%87%AA%E5%8A%A8%E6%8E%A8%E6%96%AD"><span class="toc-text">30.2 类型自动推断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#30-3-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%9B%E5%9E%8B"><span class="toc-text">30.3 自定义泛型</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#31-IO%E6%B5%81"><span class="toc-text">31 IO流</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#31-1-IO%E6%B5%81%E6%A6%82%E8%BF%B0"><span class="toc-text">31.1 IO流概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#31-2-%E9%87%8D%E8%A6%81%E6%B5%81"><span class="toc-text">31.2 重要流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#31-3-FileInputStream"><span class="toc-text">31.3 FileInputStream</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('/./img/picture_JavaSE.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 By MJ</div><div class="footer_custom_text">Mengjiao Cheng.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Local search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="CHENG,MENG,JIAO" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>